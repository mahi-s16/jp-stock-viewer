# 実装計画: 信用倍率ランキングの追加

株需給レポートの「資金流入スピード・ランキング」の下に、「信用倍率ランキング（低い順）」を追加します。

## 変更内容

### [Component Name] generate_static_report.py

#### [MODIFY] [generate_static_report.py](file:///Users/mahi/.gemini/antigravity/scratch/stock_app_deploy/generate_static_report.py)

1.  **データ処理の改善**:
    - `process_ticker` 関数内で、`margin['ratio']` (文字列) を `float` に変換し、`ticker_results` に `margin_ratio` というキーで保存します。
    - 倍率が取得できない ("-" など) 場合は、ランキングの末尾にくるように大きな値 (例: `999.0`) または `None` として扱います。

2.  **ランキング生成ロジックの追加**:
    - `main` 関数内で、`ticker_results` を `margin_ratio` で昇順（低い順）にソートした新しいリスト `margin_ranking` を作成します。
    - 「資金流入スピード・ランキング」と同様のテーブル形式で、「信用倍率ランキング」のHTMLを生成します。

3.  **HTMLテンプレートの更新**:
    - 「資金流入スピード・ランキング」のセクション（`div#heat-ranking`）の直後に、新しいランキングセクション（`div#margin-ranking`）を挿入します。
    - デザインは既存のランキングと統一感を保ちつつ、色は情報の性質（需給の良化）に合わせて青系（例: `#2196F3`）を使用することを検討します。

## 検証計画

### 自動テスト
- スクリプトをローカルで実行し、エラーなく `index.html` が生成されることを確認します。
- 生成された `index.html` をブラウザで開き、以下の点を確認します：
    - 「資金流入スピード・ランキング」の下に「信用倍率ランキング」が表示されているか。
    - 信用倍率が低い順に正しく並んでいるか。
    - レイアウトが崩れていないか。

### 手動検証
- ユーザーに生成されたレポートを確認してもらい、意図した通りの順序・表示になっているかフィードバックを受けます。
